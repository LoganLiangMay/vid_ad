(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,71600,e=>{"use strict";var t=e.i(89589),a=e.i(59694);e.i(92923);var s=e.i(38675),l=e.i(39555);function r(){let[e,r]=(0,a.useState)(null),[o,i]=(0,a.useState)(""),[n,d]=(0,a.useState)(""),[c,m]=(0,a.useState)(""),[g,x]=(0,a.useState)(5),[u,h]=(0,a.useState)(!1),[p,b]=(0,a.useState)(""),[v,f]=(0,a.useState)(""),[j,y]=(0,a.useState)(""),w=(0,a.useRef)(null),N=e=>{e.type.startsWith("image/")?(r(e),i(URL.createObjectURL(e)),f("")):f("Please upload an image file")},k=async()=>{if(!e||!n)return void f("Please upload an image and enter a prompt");h(!0),f(""),b(""),y("Uploading image...");try{let t=new FileReader,a=new Promise((a,s)=>{t.onload=()=>a(t.result),t.onerror=s,t.readAsDataURL(e)}),r=await a;console.log("ðŸ“¤ File read as data URL");let o=(0,s.httpsCallable)(l.functions,"uploadImageToS3"),i=(await o({fileData:r,fileName:e.name,path:`image-to-video/${Date.now()}-${e.name}`})).data.url;console.log("âœ… Image uploaded to S3:",i),y("Starting video generation...");let d=(0,s.httpsCallable)(l.functions,"generateImageToVideo"),m=(await d({imageUrl:i,prompt:n,negativePrompt:c||void 0,duration:g,aspectRatio:"9:16"})).data;if(console.log("ðŸŽ¬ Video generation started:",m),!m.success)throw Error(m.message||"Failed to start video generation");let x=m.videoId;y("Generating video... This may take 2-3 minutes");let u=(0,s.httpsCallable)(l.functions,"checkImageToVideoStatus"),p=0,v=setInterval(async()=>{try{p++,console.log(`ðŸ“Š Checking status (attempt ${p}/60)...`);let e=(await u({videoId:x})).data;console.log("ðŸ“Š Status:",e.status),"succeeded"===e.status?(clearInterval(v),b(e.output),y("Video generated successfully!"),h(!1)):"failed"===e.status||"error"===e.status?(clearInterval(v),f(`Video generation failed: ${e.error||"Unknown error"}`),h(!1)):p>=60?(clearInterval(v),f("Video generation timed out. Please try again."),h(!1)):y(`Generating video... Status: ${e.status}`)}catch(e){console.error("âŒ Error polling status:",e),clearInterval(v),f(`Error checking status: ${e.message}`),h(!1)}},5e3)}catch(e){console.error("âŒ Error generating video:",e),f(e.message||"Failed to generate video"),h(!1)}};return(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-blue-50 py-12 px-4",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,t.jsxs)("div",{className:"text-center mb-12",children:[(0,t.jsx)("h1",{className:"text-5xl font-bold text-gray-900 mb-4",children:"Image to Video"}),(0,t.jsx)("p",{className:"text-xl text-gray-600",children:"Transform your image into a dynamic video with AI"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 space-y-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-lg font-semibold text-gray-900 mb-4",children:"1. Upload Image"}),o?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("img",{src:o,alt:"Preview",className:"w-full max-h-96 object-contain rounded-lg border-2 border-gray-200"}),(0,t.jsx)("button",{onClick:()=>{r(null),i(""),w.current&&(w.current.value="")},className:"text-red-600 hover:text-red-700 font-medium",children:"Remove Image"})]}):(0,t.jsxs)("div",{onClick:()=>w.current?.click(),onDrop:e=>{e.preventDefault(),e.stopPropagation();let t=e.dataTransfer.files?.[0];t&&N(t)},onDragOver:e=>{e.preventDefault(),e.stopPropagation()},className:"border-2 border-dashed border-gray-300 rounded-xl p-12 text-center cursor-pointer hover:border-purple-500 hover:bg-purple-50 transition-all",children:[(0,t.jsx)("div",{className:"text-6xl mb-4",children:"ðŸ–¼ï¸"}),(0,t.jsx)("p",{className:"text-lg font-medium text-gray-700 mb-2",children:"Click to upload or drag and drop"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"PNG, JPG, or WEBP â€¢ Max 10MB"}),(0,t.jsx)("input",{ref:w,type:"file",accept:"image/*",onChange:e=>{let t=e.target.files?.[0];t&&N(t)},className:"hidden"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-lg font-semibold text-gray-900 mb-4",children:"2. Describe the Video Motion"}),(0,t.jsx)("textarea",{value:n,onChange:e=>d(e.target.value),placeholder:"e.g., Camera slowly zooms in while the woman smiles and waves. Smooth cinematic motion with soft lighting.",className:"w-full h-32 px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none resize-none"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Describe how you want the image to animate and move"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-lg font-semibold text-gray-900 mb-4",children:"3. Negative Prompt (Optional)"}),(0,t.jsx)("textarea",{value:c,onChange:e=>m(e.target.value),placeholder:"e.g., blurry, distorted, low quality, watermark",className:"w-full h-24 px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none resize-none"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Things you don't want to see in the video"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-lg font-semibold text-gray-900 mb-4",children:"4. Video Duration"}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("button",{onClick:()=>x(5),className:`flex-1 py-4 rounded-lg font-semibold transition-all ${5===g?"bg-purple-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"5 Seconds"}),(0,t.jsx)("button",{onClick:()=>x(10),className:`flex-1 py-4 rounded-lg font-semibold transition-all ${10===g?"bg-purple-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"10 Seconds"})]}),(0,t.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:["Cost: $",(.07*g).toFixed(2)," per video"]})]}),v&&(0,t.jsx)("div",{className:"bg-red-50 border-2 border-red-200 rounded-lg p-4",children:(0,t.jsx)("p",{className:"text-red-800 font-medium",children:v})}),j&&!v&&(0,t.jsx)("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-lg p-4",children:(0,t.jsx)("p",{className:"text-blue-800 font-medium",children:j})}),(0,t.jsx)("button",{onClick:k,disabled:u||!e||!n,className:"w-full py-4 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg font-bold text-lg hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:u?"Generating Video...":"Generate Video"}),p&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"Your Video"}),(0,t.jsx)("video",{src:p,controls:!0,autoPlay:!0,loop:!0,className:"w-full rounded-lg shadow-lg"}),(0,t.jsx)("a",{href:p,download:"generated-video.mp4",className:"block w-full py-3 bg-green-600 text-white rounded-lg font-semibold text-center hover:bg-green-700 transition-colors",children:"Download Video"})]})]}),(0,t.jsxs)("div",{className:"mt-12 bg-white rounded-2xl shadow-lg p-8",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"How It Works"}),(0,t.jsxs)("div",{className:"space-y-4 text-gray-700",children:[(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("div",{className:"text-3xl",children:"ðŸŽ¨"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-lg mb-1",children:"Upload Your Image"}),(0,t.jsx)("p",{children:"Start with any image - product photos, portraits, landscapes, or artwork."})]})]}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("div",{className:"text-3xl",children:"âœ¨"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-lg mb-1",children:"Describe the Motion"}),(0,t.jsx)("p",{children:"Tell AI how you want the image to animate - camera movements, actions, and effects."})]})]}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("div",{className:"text-3xl",children:"ðŸŽ¬"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-lg mb-1",children:"Get Your Video"}),(0,t.jsx)("p",{children:"AI generates a professional video with smooth motion and cinematic quality."})]})]})]})]})]})})}e.s(["default",()=>r])}]);